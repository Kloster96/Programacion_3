<div class="form-container">
    <h2>Editar Turno: <%= turno.id %></h2>
    <form action="/turnos/<%= turno.id %>/editar" method="POST">
        <input type="hidden" name="id" value="<%= turno.id %>">

        <label for="paciente">Paciente:</label>
        <select name="pacienteId" id="pacienteId" required>
            <% pacientes.forEach(paciente => { %>
                <option value="<%= paciente.id %>" <%= paciente.id === turno.paciente ? 'selected' : '' %> >
                    <%= paciente.nombre %> <%= paciente.apellido %>
                </option>
            <% }) %>
        </select>

        <label for="fecha">Fecha:</label>
        <input type="date" name="fecha" id="fecha" value="<%= turno.fecha.split('T')[0] %>" required>

        <label for="motivo">Motivo:</label>
        <input type="text" name="motivo" id="motivo" value="<%= turno.motivo %>" required>

        <label for="estado">Estado:</label>
        <select name="estado" id="estado" required>
            <option value="cancelado" <%= turno.estado === 'cancelado' ? 'selected' : '' %>>Cancelado</option>
            <option value="activo" <%= turno.estado === 'activo' ? 'selected' : '' %>>Activo</option>
        </select>

        <div class="form-buttons">
            <button type="submit">Guardar Cambios</button>
            <a href="/turnos">Volver</a>
        </div>
    </form>
</div>
