<h1 class="mb-4"><%= title %></h1>

<% if(error) { %>
    <div class="alert alert-danger" role="alert">
        <%= error %>
    </div>
<% } %>

<form action="/mascotas/editar/<%= mascota.id %>" method="POST">
    <div class="mb-3">
        <label for="nombre" class="form-label">Nombre:</label>
        <input type="text" class="form-control" id="nombre" name="nombre" value="<%= mascota.nombre %>" required>
    </div>
    <div class="mb-3">
        <label for="especie" class="form-label">Especie:</label>
        <input type="text" class="form-control" id="especie" name="especie" value="<%= mascota.especie %>" required>
    </div>
    <div class="mb-3">
        <label for="raza" class="form-label">Raza:</label>
        <input type="text" class="form-control" id="raza" name="raza" value="<%= mascota.raza %>" required>
    </div>
    <div class="mb-3">
        <label for="fechaNacimiento" class="form-label">Fecha de Nacimiento:</label>
        <input type="date" class="form-control" id="fechaNacimiento" name="fechaNacimiento" value="<%= mascota.fechaNacimiento %>" required>
    </div>
    <div class="mb-3">
        <label for="duenoId" class="form-label">Dueño:</label>
        <select class="form-select" id="duenoId" name="duenoId" required>
            <option value="">Selecciona un Dueño</option>
            <% duenos.forEach(function(dueno) { %>
                <option value="<%= dueno.id %>" <%= mascota.dueno && mascota.dueno.id == dueno.id || mascota.duenoId == dueno.id ? 'selected' : '' %>>
                    <%= dueno.nombre %> <%= dueno.apellido %>
                </option>
                <% }); %>
        </select>
    </div>
    <div class="mb-3">
        <label for="observaciones" class="form-label">Observaciones:</label>
        <textarea class="form-control" id="observaciones" name="observaciones" rows="3"><%= mascota.observaciones  %></textarea>
    </div>
    <button type="submit" class="btn btn-success">Actualizar Mascota</button>
    <a href="/mascotas" class="btn btn-secondary ms-2">Cancelar</a>
</form>